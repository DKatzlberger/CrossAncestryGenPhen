% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/split_stratified_ancestry_sets.R
\name{split_stratified_ancestry_sets}
\alias{split_stratified_ancestry_sets}
\title{Split Expression and Metadata into Train, Test, and Inference Sets}
\usage{
split_stratified_ancestry_sets(X, Y, MX, MY, stratify_cols = NULL, seed = NULL)
}
\arguments{
\item{X}{A numeric matrix (samples × features) for the overrepresented ancestry group.}

\item{Y}{A numeric matrix (samples × features) for the underrepresented ancestry group.}

\item{MX}{A data.frame of metadata for X (same number of rows as X).}

\item{MY}{A data.frame of metadata for Y (same number of rows as Y).}

\item{stratify_cols}{A character vector of metadata column names to stratify on.}

\item{seed}{Optional integer to set random seed for reproducibility.}
}
\value{
A named list with:
\describe{
  \item{train}{List with `X` and `M` for the **remaining overrepresented samples**.}
  \item{test}{List with `X` and `M` for the **subsampled overrepresented group**, stratified to match the underrepresented group.}
  \item{inference}{List with `X` and `M` for the **underrepresented ancestry**.}
  \item{strata_info}{A summary list with usable, missing, and insufficient strata.}
}
}
\description{
Subsamples the overrepresented ancestry to match the underrepresented ancestry
for a test set, stratifying by metadata columns. The remaining overrepresented
samples are used for training. The underrepresented ancestry group is returned
as the inference set. This function is useful when training a model on the
majority ancestry and testing fairness or generalizability using both a balanced
subset and the underrepresented group.
}
